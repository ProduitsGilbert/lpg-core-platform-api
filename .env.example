# LPG Core Platform API Environment Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# MSSQL Database connection string
# Format: mssql+pyodbc://user:password@server/database?driver=ODBC+Driver+17+for+SQL+Server
DB_DSN=mssql+pyodbc://sa:YourStrong!Passw0rd@localhost:1433/BusinessCentral?driver=ODBC+Driver+17+for+SQL+Server&TrustServerCertificate=yes

# Database pool configuration
DB_POOL_SIZE=10
DB_POOL_OVERFLOW=20
DB_POOL_TIMEOUT=30

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Application metadata
APP_NAME=LPG Core Platform API
APP_VERSION=1.0.0

# Environment: development | staging | production
ENVIRONMENT=development

# Debug mode (verbose logging)
DEBUG=false

# API configuration
API_V1_PREFIX=/api/v1

# CORS origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:8000

# Request timeout in seconds
REQUEST_TIMEOUT=60

# ============================================================================
# ERP CONFIGURATION
# ============================================================================

# ERP integration mode: legacy | official | canary
ERP_MODE=legacy

# Base URL for official Business Central API (when using official mode)
ERP_BASE_URL=

# Canary deployment percentage (0-100)
CANARY_PERCENT=0

# ============================================================================
# EXTERNAL SERVICES
# ============================================================================

# Logfire observability (optional)
LOGFIRE_API_KEY=

# OpenAI configuration (optional)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-5-2025-08-07

# Local AI agent (optional)
LOCAL_AGENT_BASE_URL=

# OCR service (optional)
OCR_SERVICE_URL=

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable APScheduler for background jobs
ENABLE_SCHEDULER=false

# Enable OCR processing
ENABLE_OCR=false

# Enable AI assistance
ENABLE_AI_ASSISTANCE=false

# ============================================================================
# RETRY CONFIGURATION
# ============================================================================

# Maximum retry attempts for failed operations
MAX_RETRY_ATTEMPTS=3

# Maximum wait time between retries (seconds)
RETRY_MAX_WAIT=60

# ============================================================================
# IDEMPOTENCY & AUDIT
# ============================================================================

# TTL for idempotency keys (hours)
IDEMPOTENCY_TTL_HOURS=24

# Audit log retention (days)
AUDIT_RETENTION_DAYS=90

# ============================================================================
# PERFORMANCE TUNING
# ============================================================================

# Number of worker processes (for production)
WORKERS=1

# Log level: debug | info | warning | error | critical
LOG_LEVEL=info